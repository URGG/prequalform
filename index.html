<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Prequalification | Hollywood Stars Realty</title>
  <meta name="description" content="Submit your prequalification form for Hollywood Stars Realty. Fast, secure, and easy to use." />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

  <!-- Load Geoapify Autocomplete -->
  <link rel="stylesheet" href="https://unpkg.com/@geoapify/geocoder-autocomplete@1.6.0/styles/minimal.css" />
  <script src="https://unpkg.com/@geoapify/geocoder-autocomplete@1.6.0/dist/index.js"></script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(to bottom right, #fff, #f1f1f1);
      color: #000;
      padding: 20px;
    }
    .lang-wrapper {
      position: fixed;
      top: 16px;
      right: 16px;
      z-index: 1000;
    }
    #language {
      background: #000;
      color: #fff;
      padding: 6px 12px;
      font-size: 13px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 500;
      z-index: 1;
    }
    .lang-wrapper::before {
      content: '';
      position: absolute;
      top: -4px;
      left: -4px;
      right: -4px;
      bottom: -4px;
      border-radius: 12px;
      background: linear-gradient(270deg, #ff0000, #ff9900, #33cc33, #0099ff, #cc00ff, #ff0000);
      background-size: 600% 600%;
      animation: glowLoop 6s linear infinite;
      filter: blur(6px);
      z-index: -1;
      opacity: 0.8;
    }
    @keyframes glowLoop {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    .logo {
      text-align: center;
      margin-bottom: 20px;
    }
    .logo img { height: 70px; }
    .container {
      max-width: 1000px;
      margin: auto;
      background: #fff;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      display: flex;
      flex-wrap: wrap;
      gap: 30px;
    }
    .sidebar {
      flex: 1 1 280px;
      text-align: center;
    }
    .sidebar img {
      width: 100%;
      max-width: 180px;
      border-radius: 12px;
      margin-bottom: 14px;
    }
    .sidebar a {
      display: block;
      color: #000;
      font-size: 14px;
      margin-bottom: 6px;
      text-decoration: underline;
    }
    .form-section { flex: 1 1 600px; }
    form { display: grid; gap: 15px; }
    label {
      font-weight: 600;
      margin-bottom: 4px;
      display: block;
    }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      background: #fff;
    }
    input:focus, select:focus, textarea:focus {
      border-color: #000;
      outline: none;
    }
    .hidden { display: none; }

    .debt-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-bottom: 10px;
    }
    .debt-checkbox {
      grid-column: 1 / -1;
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 10px;
    }
    .debt-checkbox input[type="checkbox"] {
      width: auto;
    }
    button[type="submit"] {
      background: #000;
      color: #fff;
      padding: 12px 24px;
      border-radius: 6px;
      font-weight: bold;
      border: none;
      cursor: pointer;
    }
    button[type="submit"]:hover { background: #222; }
    .popup {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #000;
      color: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      display: none;
      z-index: 2000;
    }
    .popup .close {
      position: absolute;
      top: 8px;
      right: 12px;
      cursor: pointer;
      font-size: 16px;
    }
    .popup a {
      color: #fff;
      text-decoration: underline;
      display: block;
      margin-top: 10px;
    }
    @media screen and (max-width: 768px) {
      .container { flex-direction: column; }
      .debt-row { grid-template-columns: 1fr; }
    }

    /* Geoapify autocomplete styling */
    .geoapify-autocomplete-container {
      position: relative;
    }
    .geoapify-autocomplete-items {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #ccc;
      border-top: none;
      border-radius: 0 0 6px 6px;
      max-height: 200px;
      overflow-y: auto;
      z-index: 1000;
    }
    .geoapify-autocomplete-item {
      padding: 10px;
      cursor: pointer;
      border-bottom: 1px solid #eee;
    }
    .geoapify-autocomplete-item:hover,
    .geoapify-autocomplete-item.geoapify-autocomplete-item-active {
      background-color: #f5f5f5;
    }
  </style>
</head>
<body>
  <div class="lang-wrapper">
    <select id="language" onchange="translatePage()">
      <option value="en">English</option>
      <option value="es">Español</option>
    </select>
  </div>

  <div class="logo">
    <img src="logo.jpg" alt="Hollywood Stars Realty Logo">
  </div>

  <div class="container">
    <div class="sidebar">
      <a href="https://ads4u.store/leslie-business-card/" target="_blank">
        <img src="LES Digital BC (1).png" alt="Leslie Singer">
      </a>
      <a href="mailto:lesliebhhs@gmail.com">Email Leslie</a>
      <a href="tel:15622216760">Call Leslie</a>
      <a href="https://ads4u.store/leslie-business-card/" target="_blank">Return to Digital Card</a>
    </div>

    <div class="form-section">
      <form name="prequal-form" method="POST" data-netlify="true" data-netlify-honeypot="bot-field" onsubmit="handleSubmit(event)">
        <input type="hidden" name="form-name" value="prequal-form">
        <p class="hidden"><label>Don't fill this out: <input name="bot-field" /></label></p>

        <label for="name" data-i18n="full_name">Full Name</label>
        <input id="name" type="text" name="full-name" required>

        <label for="email" data-i18n="email">Email Address</label>
        <input id="email" type="email" name="email" required>

        <label for="phone" data-i18n="phone">Phone Number</label>
        <input id="phone" type="tel" name="phone" required>

        <label for="address" data-i18n="address">Current Address</label>
        <div class="geoapify-autocomplete-container">
          <input id="address" type="text" name="address" required placeholder="Start typing your address...">
        </div>

        <label data-i18n="fico_score">Estimated FICO Score</label>
        <select name="fico-score" required>
          <option value="">Select...</option>
          <option>Excellent (800-850)</option>
          <option>Very Good (740-799)</option>
          <option>Good (670-739)</option>
          <option>Fair (580-669)</option>
          <option>Poor (300-579)</option>
        </select>

        <label data-i18n="employment">Are you currently employed?</label>
        <select name="employment-status" required>
          <option value="">Select...</option>
          <option>Yes</option>
          <option>No</option>
        </select>

        <label data-i18n="monthly_income">Estimated Monthly Income (before taxes)</label>
        <input type="number" name="monthly-income" required placeholder="Enter amount in dollars">

        <label>Do you have a car payment(s)?</label>
        <select name="car-payments" id="car-payments" onchange="toggleCarPayment()">
          <option value="">Select...</option>
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>

        <div id="car-payment-amount" class="hidden">
          <label>How much do you pay per month?</label>
          <input type="number" name="car-payment-amount" placeholder="Enter monthly car payment">
        </div>

        <label data-i18n="taxes_1099">Do you file taxes with a 1099?</label>
        <select name="uses-1099" onchange="handle1099Change(this)">
          <option value="">Select...</option>
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>

        <div id="1099-fields" class="hidden">
          <label data-i18n="net_1099">Monthly income after taxes (net)?</label>
          <input type="number" name="net-income-after-1099" placeholder="Enter net monthly income">

          <label data-i18n="gross_1099">Gross monthly income?</label>
          <input type="number" name="gross-income-1099" placeholder="Enter gross monthly income">
        </div>

        <label data-i18n="down_payment">Estimated Down Payment</label>
        <input type="number" name="down-payment" placeholder="Enter estimated down payment amount">

        <label data-i18n="ssn_itin">Do you have a SSN, ITIN, or other?</label>
        <select name="id-status" required>
          <option value="">Select...</option>
          <option>SSN</option>
          <option>ITIN</option>
          <option>Other</option>
        </select>

        <label data-i18n="additional_info">Any additional info you'd like to share?</label>
        <textarea name="additional-info" rows="3" placeholder="Share any additional information that might be helpful..."></textarea>

        <label data-i18n="debts_header">Estimated Debts and Monthly Payments</label>
        
        <div class="debt-checkbox">
          <input type="checkbox" id="has-mortgage" name="has-mortgage" onchange="toggleDebt('mortgage')">
          <label for="has-mortgage" data-i18n="mortgage">Mortgage</label>
        </div>
        <div id="mortgage-fields" class="debt-row hidden">
          <input type="number" name="mortgage-balance" placeholder="Remaining balance">
          <input type="number" name="mortgage-payment" placeholder="Monthly payment">
        </div>

        <div class="debt-checkbox">
          <input type="checkbox" id="has-credit-cards" name="has-credit-cards" onchange="toggleDebt('credit-cards')">
          <label for="has-credit-cards" data-i18n="credit_cards">Credit Cards</label>
        </div>
        <div id="credit-cards-fields" class="debt-row hidden">
          <input type="number" name="credit-cards-balance" placeholder="Total balance">
          <input type="number" name="credit-cards-payment" placeholder="Monthly payment">
        </div>

        <div class="debt-checkbox">
          <input type="checkbox" id="has-auto-loans" name="has-auto-loans" onchange="toggleDebt('auto-loans')">
          <label for="has-auto-loans" data-i18n="auto_loans">Auto Loans</label>
        </div>
        <div id="auto-loans-fields" class="debt-row hidden">
          <input type="number" name="auto-loans-balance" placeholder="Remaining balance">
          <input type="number" name="auto-loans-payment" placeholder="Monthly payment">
        </div>

        <div class="debt-checkbox">
          <input type="checkbox" id="has-student-loans" name="has-student-loans" onchange="toggleDebt('student-loans')">
          <label for="has-student-loans" data-i18n="student_loans">Student Loans</label>
        </div>
        <div id="student-loans-fields" class="debt-row hidden">
          <input type="number" name="student-loans-balance" placeholder="Remaining balance">
          <input type="number" name="student-loans-payment" placeholder="Monthly payment">
        </div>

        <div class="debt-checkbox">
          <input type="checkbox" id="has-personal-loans" name="has-personal-loans" onchange="toggleDebt('personal-loans')">
          <label for="has-personal-loans" data-i18n="personal_loans">Personal Loans</label>
        </div>
        <div id="personal-loans-fields" class="debt-row hidden">
          <input type="number" name="personal-loans-balance" placeholder="Remaining balance">
          <input type="number" name="personal-loans-payment" placeholder="Monthly payment">
        </div>

        <div data-netlify-recaptcha="true"></div>

        <button type="submit" data-i18n="submit">Submit Prequalification</button>
      </form>
    </div>
  </div>

  <div class="popup" id="popup">
    <span class="close" onclick="document.getElementById('popup').style.display='none'">&times;</span>
    <p>Thank you for your response! An agent will contact you within 1–3 business days.</p>
    <a href="https://ads4u.store/leslie-business-card/">Return to Digital Card</a>
  </div>

  <script>
    function toggleCarPayment() {
      document.getElementById('car-payment-amount').classList.toggle('hidden', document.getElementById('car-payments').value !== 'Yes');
    }

    function handle1099Change(select) {
      document.getElementById('1099-fields').classList.toggle('hidden', select.value !== 'Yes');
    }

    function toggleDebt(debtType) {
      const checkbox = document.getElementById(`has-${debtType}`);
      const fields = document.getElementById(`${debtType}-fields`);
      fields.classList.toggle('hidden', !checkbox.checked);
    }

    function handleSubmit(event) {
      event.preventDefault();
      const form = event.target;
      fetch("/", {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: new URLSearchParams(new FormData(form)).toString()
      })
      .then(() => {
        document.getElementById("popup").style.display = "block";
        form.reset();
      })
      .catch(error => alert("Form submission error: " + error));
    }

    function translatePage() {
      const lang = document.getElementById("language").value;
      const elements = document.querySelectorAll("[data-i18n]");
      const t = translations[lang] || translations.en;
      elements.forEach(el => {
        const key = el.getAttribute("data-i18n");
        if (t[key]) el.textContent = t[key];
      });
    }

    const translations = {
      en: {
        full_name: "Full Name",
        email: "Email Address",
        phone: "Phone Number",
        address: "Current Address",
        fico_score: "Estimated FICO Score",
        employment: "Are you currently employed?",
        monthly_income: "Estimated Monthly Income (before taxes)",
        debts_header: "Estimated Debts and Monthly Payments",
        mortgage: "Mortgage",
        credit_cards: "Credit Cards",
        auto_loans: "Auto Loans",
        student_loans: "Student Loans",
        personal_loans: "Personal Loans",
        down_payment: "Estimated Down Payment",
        ssn_itin: "Do you have a SSN, ITIN, or other?",
        additional_info: "Any additional info you'd like to share?",
        submit: "Submit Prequalification",
        taxes_1099: "Do you file taxes with a 1099?",
        net_1099: "Monthly income after taxes (net)?",
        gross_1099: "Gross monthly income?"
      },
      es: {
        full_name: "Nombre completo",
        email: "Correo electrónico",
        phone: "Número de teléfono",
        address: "Dirección actual",
        fico_score: "Puntaje FICO estimado",
        employment: "¿Actualmente estás empleado?",
        monthly_income: "Ingreso mensual estimado (antes de impuestos)",
        debts_header: "Deudas estimadas y pagos mensuales",
        mortgage: "Hipoteca",
        credit_cards: "Tarjetas de crédito",
        auto_loans: "Préstamos de auto",
        student_loans: "Préstamos estudiantiles",
        personal_loans: "Préstamos personales",
        down_payment: "Pago inicial estimado",
        ssn_itin: "¿Tienes SSN, ITIN u otro?",
        additional_info: "¿Información adicional que deseas compartir?",
        submit: "Enviar pre-calificación",
        taxes_1099: "¿Presentas impuestos con un 1099?",
        net_1099: "¿Ingreso mensual neto?",
        gross_1099: "¿Ingreso mensual bruto?"
      }
    };

    // Initialize Geoapify Autocomplete
    document.addEventListener("DOMContentLoaded", function () {
      const addressInput = document.getElementById("address");
      
      if (typeof GeoapifyGeocoderAutocomplete !== 'undefined') {
        const autocomplete = new GeoapifyGeocoderAutocomplete(
          addressInput,
          "f833bcff9ec241b8ba77ca8d12aff6b8", // Your API key
          {
            placeholder: "Start typing your address...",
            type: "street",
            lang: "en",
            countryCodes: ["us"],
            limit: 5
          }
        );

        autocomplete.on('select', (location) => {
          console.log('Selected location:', location);
          if (location && location.properties && location.properties.formatted) {
            addressInput.value = location.properties.formatted;
          }
        });
      } else {
        console.warn('Geoapify Autocomplete library not loaded. Address autocomplete will not work.');
      }
    });
  </script>
</body>
</html>